<div class="list-item {{#ifeq (lookup (nco character.base character) 'key') item.location}}equipped{{/ifeq}} {{#iffave character item.setKey buildId}}favorite{{/iffave}}" name="{{unique item}}" data-template="renderArtifactAsCard" data-uuid="{{uuid item}}">
    <img class="rarity" src="img/Background_Item_{{getProperty item 'rarity'}}_Star.webp"/>
    <div class="artifact-header">
        <div class="level">{{> renderItemField item=item field="level" wrapper="span"}}</div>
        <div class="stat-key">{{> renderItemField item=item field="mainStat" wrapper="span"}}</div>
        <div class="stat-value">{{> renderItemField item=item field="characterScore" wrapper="span" params=(array character buildId)}}</div>
    </div>
    <div class="artifact-content">
        <div class="images">
            <img class="artifact-icon" src="{{getProperty item 'image'}}" loading="lazy"/>
            <div>
                <span class="small text-muted">{{> renderItemField item=item field="lock" params=(array 1 0) wrapper="span"}}</span>
          {{#if (isPreviewing character item)}}
                <button class="btn btn-sm btn-secondary preview-artifact" title="Stop previewing this artifact."><i class="fa-solid fa-eye"></i></button>
          {{else}}
                <button class="btn btn-sm btn-outline-secondary preview-artifact" title="Preview this artifact."><i class="fa-solid fa-eye"></i></button>
          {{/if}}
            </div>
          {{#if item.location}}
            <div class="artifact-user equip-artifact" title="Trade artifacts with {{getProperty character 'name'}}">{{> renderItemField item=item field="characterIcon" params=(array character.key) wrapper="div"}}</div>
          {{else}}
            <button class="btn btn-outline-secondary equip-artifact" title="Equip this artifact."><i class="fa-solid fa-person-rays"></i></button>
          {{/if}}
        </div>
        <div class="substats">
          {{#times 4}}
              {{> renderItemField item=item field="substat" params=(array @index) wrapper="div"}}
          {{/times}}
        </div>
    </div>
</div>