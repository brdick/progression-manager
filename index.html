<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Genshin Manager</title>
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="manifest" href="site.webmanifest">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta3/dist/css/bootstrap-select.min.css">
    <link rel="stylesheet" href="css/dark.css"/>
    <link rel="stylesheet" href="css/main.css"/>
  </head>
  <body>
    <nav class="navbar navbar-dark bg-dark sticky-top navbar-expand-lg">
      <div class="container-fluid">
        <!--<a class="navbar-brand" href="#">Navbar</a>-->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link pane-select" href="#characters">Characters</a>
            </li>
            <li class="nav-item">
              <a class="nav-link pane-select" href="#weapons">Weapons</a>
            </li>
            <li class="nav-item">
              <a class="nav-link pane-select" href="#artifacts">Artifacts</a>
            </li>
            <li class="nav-item">
              <a class="nav-link pane-select" href="#teams">Teams</a>
            </li>
            <li class="nav-item">
              <a class="nav-link pane-select" href="#materials">Materials</a>
            </li>
            <li class="nav-item">
              <a class="nav-link pane-select" href="#furnitureSets">Furniture Sets</a>
            </li>
            <li class="nav-item">
              <a class="nav-link pane-select" href="#furniture">Furniture</a>
            </li>
            <li class="nav-item ms-3">
              <button class="btn btn-primary" data-bs-target="#loadModal" data-bs-toggle="modal" title="Import your data from a file or URL."><i class="fa-solid fa-file-import"></i></button>
            </li>
            <li class="nav-item ms-3">
              <button class="btn btn-success" data-bs-target="#saveModal" data-bs-toggle="modal" title="Export your data to a file or URL."><i class="fa-solid fa-download"></i></button>
            </li>
            <li class="nav-item ms-3">
              <button class="btn btn-secondary" data-bs-target="#editModal" data-bs-toggle="modal" title="Switch to another account or create a new one from scratch."><i class="fa-solid fa-user-pen"></i></button>
            </li>
            <li class="nav-item ms-3">
              <button class="btn btn-secondary" data-bs-target="#prefsModal" data-bs-toggle="modal" title="Change your preferences regarding how the information on the app is displayed."><i class="fa-solid fa-gear"></i></button>
            </li>
            <li class="nav-item mx-3">
              <a class="nav-link" target="_blank" href="https://github.com/kree-nickm/genshin-manager" title="Check out the app on GitHub."><i class="fa-brands fa-github"></i></a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    
    <div id="content">
    </div>
    
    <div id="popup" class="modal" tabindex="-1">
      <div class="modal-dialog modal-xl">
        <div class="modal-content"></div>
      </div>
    </div>

    <div id="loadModal" class="modal" tabindex="-1">
      <div class="modal-dialog">
        <div id="loadForm" class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Import Account Data</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
          
            <!-- 'Format Select' Tabbed List -->
            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button id="loadGOODTab" class="nav-link" role="tab" data-bs-toggle="tab" data-bs-target="#loadGOODPane">GOOD Format*</button>
              </li>
              <li class="nav-item" role="presentation">
                <button id="loadAllTab" class="nav-link" role="tab" data-bs-toggle="tab" data-bs-target="#loadAllPane">Genshin Manager Format</button>
              </li>
            </ul>
            
            <!-- GOOD Format Pane -->
            <div class="tab-content my-3">
              <div class="tab-pane" id="loadGOODPane" role="tabpanel">
                <div class="row">
                  <b class="col-1">1.</b>
                  <b class="col-11">Select the account and server to load your data into.</b>
                </div>
                <div class="row mb-1">
                  <label class="col-6 form-label" for="loadAccount">Account</label>
                  <label class="col-6 form-label" for="loadServer">Server</label>
                </div>
                <div class="row mb-1">
                  <div class="col-6">
                    <select class="form-select" id="loadAccount">
                    </select>
                    <input class="form-control" id="loadAccountNew" placeholder="New account name..." title="Can be anything you want that helps you identify this account."/>
                  </div>
                  <div class="col-6">
                    <select class="form-select" id="loadServer">
                      <option value="na">America</option>
                      <option value="eu">Europe</option>
                      <option value="as">Asia</option>
                      <option value="tw">TW, HK, MO</option>
                    </select>
                  </div>
                </div>
                <hr/>
                <div class="row mb-2">
                  <b class="col-1">2.</b>
                  <b class="col-11">Import your data using an option below.</b>
                </div>
                <div class="input-group" title="Use this if you have a JSON file containing GOOD-formatted data.">
                  <label class="input-group-text" for="loadGOODFile">Load From File:</label>
                  <input id="loadGOODFile" class="form-control" name="GOODFile" type="file" accept="*.json,application/json"/>
                </div>
                <div class="text-center"><i class="form-text">- or -</i></div>
                <div class="input-group" title="When you or someone else uploads account data from Genshin Manager to Pastebin, an 8-letter/number code will be provided (corresponds to a Pastebin URL). Enter that code here to import that account. Note that these codes only last for 24 hours.">
                  <label class="input-group-text" for="loadPastebinCode">Pastebin Code:</label>
                  <input id="loadPastebinCode" class="form-control" name="Pastebin" type="text" placeholder="8-letter code"/>
                  <button id="loadPastebinBtn" class="btn btn-success">Load Data</button>
                </div>
                <hr/>
                <p class="form-text">Note: This will replace the data in the specified account/server with the imported data. However, only lists that are present in the imported data will be replaced. For example, if the imported data only contains artifacts and materials, then only artifacts and materials will be replaced; your characters, weapons, etc. will be unaffected.</p>
                <!--<hr/>
                <label>Or Paste JSON Data:</label>
                <textarea id="loadGOODJSON" name="GOODJSON" style="width:100%;"></textarea>
                <button id="loadGOODBtn" type="button" class="btn btn-primary">Load</button>-->
              </div>
              
              <!-- Genshin Manager Format Pane -->
              <div class="tab-pane" id="loadAllPane" role="tabpanel">
                <div class="input-group" title="Use this if you have a JSON file that was exported by Genshin Manager.">
                  <label class="input-group-text" for="loadAllFile">Load From File:</label>
                  <input id="loadAllFile" class="form-control" name="AllFile" type="file" accept="*.json,application/json"/>
                </div>
                <!--<div class="text-center"><i class="form-text">- or -</i></div>
                <div class="input-group">
                  <label class="input-group-text" for="loadPastebinCode">Pastebin Code:</label>
                  <input id="loadPastebinCode" class="form-control" name="Pastebin" type="text" placeholder="8-letter code"/>
                  <button id="loadPastebinBtn" class="btn btn-success">Load Data</button>
                </div>-->
                <hr/>
                <p class="form-text">Note: This will replace <b>all</b> of your data with the imported data. Make sure you save your current data first if you want to keep it.</p>
              </div>
            </div>
            <div id="loadMessage" class="alert alert-primary d-none"></div>
            <div id="loadError" class="alert alert-danger d-none">Error</div>
            <p class="form-text">* GOOD format refers to a type of JSON file containing your account data. Programs such as <a href="https://github.com/daydreaming666/Amenoma" target="_blank">Amenoma</a> and <a href="https://github.com/Andrewthe13th/Inventory_Kamera" target="_blank">Inventory Kamera</a> can scan your game and create this file from your account. GOOD format is understood by many other Genshin Impact applications, such as <a href="https://frzyc.github.io/genshin-optimizer" target="_blank">Genshin Optimizer</a>, <a href="https://seelie.me/" target="_blank">SEELIE.me</a>, etc., and can be used to easily transfer your data between applications.</p>
          </div>
        </div>
      </div>
    </div>

    <div id="editModal" class="modal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Manage Account(s)</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <div class="row">
              <label class="col-6 form-label">Account</label>
              <label class="col-6 form-label">Server</label>
            </div>
            <div class="row">
              <div class="col-6">
                <select class="form-select" id="editAccount">
                </select>
                <input class="form-control" id="editAccountNew" placeholder="New account name..." title="Can be anything you want that helps you identify this account."/>
              </div>
              <div class="col-6">
                <select class="form-select" id="editServer">
                  <option value="na">America</option>
                  <option value="eu">Europe</option>
                  <option value="as">Asia</option>
                  <option value="tw">TW, HK, MO</option>
                </select>
              </div>
            </div>
            <p class="form-text">Select an account to switch to, or create a new one.</p>
            <div id="editError" class="alert alert-danger d-none">Error</div>
          </div>
          <div class="modal-footer">
            <button id="editDoneBtn" type="button" class="btn btn-success">Done</button>
          </div>
        </div>
      </div>
    </div>

    <div id="saveModal" class="modal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Export Account Data</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body d-grid gap-2">
            <button id="saveGOODBtn" class="btn btn-success" title="Use this to transfer your data to other Genshin Impact apps that use GOOD format.">Download current account (GOOD Format)</button>
            <button id="saveAllBtn" class="btn btn-success" title="Use this to save all of your data for use on this app.">Download all accounts (Genshin Manager Format)</button>
            <hr/>
            <button id="savePastebinBtn" class="btn btn-success" title="Use this to upload your current account data to Pastebin in GOOD format so others can access it.">Upload current account to Pastebin (GOOD Format)</button>
            <!--<button id="saveAllPastebinBtn" class="btn btn-success" title="Use this to upload all of your data to Pastebin so you can transfer all of it to another device.">Upload all accounts to Pastebin (Genshin Manager Format)</button>-->
            <div id="saveMessage" class="alert alert-primary d-none"></div>
            <hr/>
            <p class="form-text">Note: Any changes you make are saved to your browser automatically. This popup is for backing up your data so that you can access it outside of Genshin Manager and this browser.</p>
          </div>
        </div>
      </div>
    </div>

    <div id="newModal" class="modal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-body">
            <div class="row">
              <div class="col-6"><button id="newLoadBtn" class="btn btn-success" title="Click this if you have a JSON file or Pastebin code with either GOOD data or Genshin Manager data.">Import Genshin Impact data.</button></div>
              <div class="col-6"><button id="newFreshBtn" class="btn btn-success" title="Click this if you have no data to import and just want to use the application from scratch.">Begin without importing.</button></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="prefsModal" class="modal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Preferences</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <div class="form-label">Character List</div>
            <div class="btn-group" role="group">
              <input type="radio" class="preference-select btn-check" id="pref3a" name="characterList" value="0" checked="checked">
              <label class="btn btn-outline-primary" for="pref3a">Text Only</label>

              <input type="radio" class="preference-select btn-check" id="pref3b"  name="characterList" value="1">
              <label class="btn btn-outline-primary" for="pref3b">Icons</label>
            </div>
            
            <div class="form-label">Materials List</div>
            <div class="btn-group" role="group">
              <input type="radio" class="preference-select btn-check" id="pref4a" name="materialList" value="0" checked="checked">
              <label class="btn btn-outline-primary" for="pref4a">Text Only</label>

              <input type="radio" class="preference-select btn-check" id="pref4b"  name="materialList" value="1">
              <label class="btn btn-outline-primary" for="pref4b">Icons</label>
            </div>
            
            <div class="form-label">Other Lists</div>
            <div class="btn-group" role="group">
              <input type="radio" class="preference-select btn-check" id="pref1a" name="listDisplay" value="0" checked="checked">
              <label class="btn btn-outline-primary" for="pref1a">Text Only</label>

              <input type="radio" class="preference-select btn-check" id="pref1b"  name="listDisplay" value="1">
              <label class="btn btn-outline-primary" for="pref1b">Icons</label>
            </div>
            
            <div class="form-label">Character Popup</div>
            <div class="btn-group" role="group">
              <input type="radio" class="preference-select btn-check" id="pref2a"  name="characterArtifacts" value="0" disabled="disabled">
              <label class="btn btn-outline-primary" for="pref2a">Text Only</label>

              <input type="radio" class="preference-select btn-check" id="pref2b"  name="characterArtifacts" value="1" checked="checked" disabled="disabled">
              <label class="btn btn-outline-primary" for="pref2b">Icons</label>
            </div>
            
            <div class="row">
              <div class="col-6">
                <div class="form-label">Minimum Artifact Rating<i class="fa-solid fa-circle-question" title="Artifacts with a desirability rating below this number will have a red mark on the artifact list. The desirability rating is calculated based on your build stat priorities that you've set up for your characters, and scaled based on how many other artifacts you have that fulfill those priorities even better."></i></div>
                <input type="number" class="preference-select form-control" id="pref5"  name="artifactMinRating" value="1" min="0" max="10" step="0.01">
              </div>
              <div class="col-6">
                <div class="form-label">Min Artifact Rating (4-star)<i class="fa-solid fa-circle-question" title="4-star artifacts with a desirability rating below this number will have a red mark on the artifact list. Note that this only applies to artifact sets that are maximum 4-stars, such as Instructor etc., because those will have drastically lower ratings than any 5-star set due to having much lower stats, but are still desirable due to the set bonus."></i></div>
                <input type="number" class="preference-select form-control" id="pref7"  name="artifactMinRating4" value="1" min="0" max="10" step="0.01">
              </div>
            </div>
            
            <div class="form-label">Assume Artifact Level <i class="fa-solid fa-circle-question" title="When calculating artifact stats and ratings, this is the maximum level that will be used to determine their current/potential stats. Long-time players should leave this at 20, but newer players who don't yet have artifacts at level 20 should set this to whatever the highest level is that they are comfortable leveling their artifacts to."></i></div>
            <input type="number" class="preference-select form-control" id="pref6"  name="artifactMaxLevel" value="20" min="0" max="20" step="1">
            
            <div class="input-group">
                <div class="input-group-text bg-secondary-subtle">
                  <input id="pref8" class="form-check-input preference-select" type="checkbox" name="showLeaks" value="1">
                </div>
                <label class="input-group-text" for="pref8">Show Leaks</label>
            </div>
            
          </div>
          <div class="modal-footer">
            <button id="prefsDoneBtn" type="button" class="btn btn-success" data-bs-dismiss="modal">Save</button>
          </div>
        </div>
      </div>
    </div>
    
    <nav id="footer" class="navbar bg-light sticky-bottom" data-list=""></nav>
    
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/269607f5b1.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta3/dist/js/bootstrap-select.min.js"></script>
    <script src="js/main.js" type="module"></script>
  </body>
</html>
